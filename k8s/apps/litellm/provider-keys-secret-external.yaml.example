# External Secrets Operator example: replace provider-keys-secret.yaml
# with this after installing ESO and configuring your secret backend.
#
# 1. Create a SecretStore/ClusterSecretStore for your provider
# 2. Store OPENAI_API_KEY and ANTHROPIC_API_KEY in that backend
# 3. Update the secretStoreRef and dataFrom/data below
# 4. Rename to provider-keys-secret-external.yaml, add to kustomization, remove provider-keys-secret.yaml
---
apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: litellm-provider-keys
  namespace: litellm
spec:
  refreshInterval: 1h
  secretStoreRef:
    name: litellm-secret-store
    kind: SecretStore
  target:
    name: litellm-provider-keys
    creationPolicy: Owner
  data:
    - secretKey: OPENAI_API_KEY
      remoteRef:
        key: litellm/openai-api-key  # Adjust for your backend
    - secretKey: ANTHROPIC_API_KEY
      remoteRef:
        key: litellm/anthropic-api-key
